{% extends 'index2.html' %}
{% block content %}
<div class="main1">
    <div id="ext">
        <button onclick="toggleDiv()"><i class="fi fi-br-check" ></i>Crear Contacto</button>
    </div>
    <br>
    <div id="ext">
        <button onclick="toggleDiv2()"><i class="fi fi-br-check" ></i>Crear Propiedad</button>
        <div class="collapsible-div2" id="collapsibleDiv2">
            
        </div>
    </div>
    <br>
    <div id="ext">
        <button onclick="toggleDiv3()">Crear Contrato</button>
        <div class="collapsible-div3" id="collapsibleDiv3">
            <form method="post">
                <label for="departamento">Departamento:</label>
                <select id="departamento" name="departamento">
                    <option value="">Selecciona un departamento</option>
                    <option value="Arequipa">Arequipa</option>
                </select>
                
                <label for="provincia">Provincia:</label>
                <select id="provincia" name="provincia">
                    <option value="">Selecciona una provincia</option>
                </select>
                
                <label for="distrito">Distrito:</label>
                <select id="distrito" name="distrito" disabled>
                    <option value="">Selecciona un distrito</option>
                </select>

                <label for="direccion">Dirección:</label>
                <input type="text" id="direccion" name="direccion" value="" maxlength="100">
                <br>
                <button id="btn" type="submit">Crear Contrato</button>
            </form>
        </div>
    </div>
</main>
<script>
     function toggleDiv3() {
            var div = document.getElementById('collapsibleDiv3');
            div.classList.toggle('expanded');
        }
        const data = {
            "Arequipa": {
                "provincias": {
                    "Arequipa": ["Alto Selva Alegre", "Arequipa", "Cayma", "Cerro Colorado", "Characato", "Chiguata", "Jacobo Hunter", "La Joya", "Mariano Melgar", "Miraflores", "Mollebaya", "Paucarpata", "Pocsi", "Polobaya", "Quequeña", "Sabandia", "Sachaca", "San Juan de Siguas", "San Juan de Tarucani", "Santa Isabel de Siguas", "Santa Rita de Siguas", "Socabaya", "Tiabaya", "Uchumayo", "Vitor", "Yanahuara", "Yarabamba", "Yura"],
                    "Camana": ["Camaná", "José María Quimper", "Mariano Nicolás Valcárcel", "Mariscal Cáceres", "Nicolás de Piérola", "Ocoña", "Quilca", "Samuel Pastor"],
                    "Caraveli": ["Acarí", "Atico", "Atiquipa", "Bella Unión", "Cahuacho", "Caravelí", "Chala", "Chaparra", "Huanuhuanu", "Jaqui", "Lomas", "Quicacha", "Yauca"],
                    "Castilla": ["Andagua", "Aplao", "Ayo", "Chachas", "Chilcaymarca", "Choco", "Huancarqui", "Machaguay", "Orcopampa", "Pampacolca", "Tipan", "Uñón", "Uraca", "Viraco"],
                    "Caylloma": ["Achoma", "Cabanaconde", "Callalli", "Caylloma", "Chivay", "Coporaque", "Huambo", "Huanca", "Ichupampa", "Lari", "Lluta", "Maca", "Madrigal", "Majes", "San Antonio de Chuca", "Sibayo", "Tapay", "Tisco", "Tuti", "Yanque"],
                    "Condesuyos": ["Andaray", "Cayarani", "Chichas", "Chuquibamba", "Iray", "Río Grande", "Salamanca", "Yanaquihua"],
                    "Islay": ["Cocachacra", "Dean Valdivia", "Islay", "Mejia", "Mollendo", "Punta de Bombón"],
                    "La Union": ["Alca", "Charcana", "Cotahuasi", "Huaynacotas", "Pampamarca", "Puyca", "Quechualla", "Sayla", "Tauria", "Tomepampa", "Toro"]
                }
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            const provinciaSelect = document.getElementById('provincia');
            const distritoSelect = document.getElementById('distrito');

            // Populate the province select
            const provincias = Object.keys(data.Arequipa.provincias);
            provincias.forEach(provincia => {
                const option = document.createElement('option');
                option.value = provincia;
                option.textContent = provincia;
                provinciaSelect.appendChild(option);
            });

            provinciaSelect.addEventListener('change', function() {
                // Clear the district select
                distritoSelect.innerHTML = '<option value="">Seleccione un distrito</option>';
                
                if (provinciaSelect.value === "") {
                    distritoSelect.disabled = true;
                } else {
                    // Populate the district select based on the selected province
                    const distritos = data.Arequipa.provincias[provinciaSelect.value];
                    distritos.forEach(distrito => {
                        const option = document.createElement('option');
                        option.value = distrito;
                        option.textContent = distrito;
                        distritoSelect.appendChild(option);
                    });
                    distritoSelect.disabled = false;
                }
            });
        });
</script>
{% endblock %}